(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{17:function(e,t,r){e.exports={wrapper:"Header_wrapper__12JW3",item:"Header_item__QKp8p",login:"Header_login__2Cf03",button:"Header_button__2p6rk",user:"Header_user__21Tpy"}},18:function(e,t,r){e.exports={edit:"EditForm_edit__EQtNL",modal:"EditForm_modal__3RQjM",modalContent:"EditForm_modalContent__1qBH5",display:"EditForm_display__nV1az"}},19:function(e,t,r){e.exports={profile:"Profiles_profile__2AGsw",profiles:"Profiles_profiles__3ez2e",text:"Profiles_text__2ovlb"}},20:function(e,t,r){e.exports={edit:"Sign_edit__5vUnQ",wrapper:"Sign_wrapper__1xFkU",content:"Sign_content__2qtY4",button:"Sign_button__Jr8ur"}},21:function(e,t,r){e.exports={dashboard:"Dashboard_dashboard__1FSET",dashboards:"Dashboard_dashboards__1uIxg",text:"Dashboard_text__1-i48"}},33:function(e,t,r){e.exports={user:"Users_user__wz857",users:"Users_users__uIHh0",text:"Users_text__1gEt2"}},50:function(e,t,r){},51:function(e,t,r){},77:function(e,t,r){},78:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r.n(n),c=r(25),a=r.n(c),s=(r(50),r(51),r(7)),u=r(11),l=r(24),o=r(33),d=r.n(o),j=r(0);var b=function(e){return Object(j.jsxs)("div",{className:d.a.user,children:[Object(j.jsx)("div",{className:d.a.text,children:e.user.email}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){e.setEdit(e.user.id)},children:"Edit"}),Object(j.jsx)("button",{onClick:function(){e.deleteUser(e.user.id)},children:"Delete"})]})]})},p=r(3),f=r(18),h=r.n(f),x=r(5);var O=function(e){var t=function(){e.setEdit(!1)};return Object(j.jsx)("div",{className:h.a.modal,children:Object(j.jsx)("div",{className:h.a.modalContent,children:Object(j.jsx)(x.b,{onSubmit:function(t){e.updateUser(e.user.id,t.email,t.password,t.isAdmin),e.setEdit(!1)},initialValues:{isAdmin:"".concat(e.user.is_admin),email:"".concat(e.user.email),password:"".concat(e.user.password)},validate:function(e){var t={};return e.password||(t.password="Required"),e.email||(t.email="Required"),e.isAdmin||(t.isAdmin="Required"),t},render:function(e){var r=e.handleSubmit;return Object(j.jsxs)("form",{onSubmit:r,children:[Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"email",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Email"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Email"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"password",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Password"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Is Admin"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:[Object(j.jsx)(x.a,{name:"isAdmin",component:"input",type:"radio",value:"true"})," ","True"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)(x.a,{name:"isAdmin",component:"input",type:"radio",value:"false"})," ","False"]})]})]}),Object(j.jsx)("button",{type:"submit",children:"Submit"}),Object(j.jsx)("button",{onClick:t,children:"Exit"})]})}})})})};var m=function(e){var t=e.users,r=Object(u.a)(e,["users"]),i=Object(n.useState)(!1),c=Object(l.a)(i,2),a=c[0],s=c[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Users"}),Object(j.jsx)("div",{children:t.map((function(e){return Object(j.jsx)(b,{deleteUser:r.deleteUser,user:e,setEdit:s},e.id)}))}),Object(j.jsx)("div",{children:a?Object(j.jsx)(O,{updateUser:r.updateUser,isAdmin:r.isAdmin,user:t.find((function(e){return e.id===a})),setEdit:s}):null})]})},v=r(6),A=r(4),U=r.n(A),g=r(9),K=r(44),w=r.n(K).a.create({withCredentials:!0,baseURL:"https://server-shiyan.herokuapp.com/api/"}),y=function(){return w.get("user").then((function(e){return e.data}))},S=function(e,t,r,n){return w.put("user",{id:e,email:t,password:r,isAdmin:n})},N=function(e){return w.delete("user/"+e)},R=function(e){return w.get("profile/"+e).then((function(e){return e.data}))},C=function(){return w.get("profile").then((function(e){return e.data}))},E=function(e,t,r,n,i,c){return w.put("profile",{fullname:e,sex:t,birth:r,city:n,id:i,user_id:c})},P=function(e){return w.delete("profile/"+e)},B=function(e,t,r,n,i){return w.post("profile",{fullname:e,sex:t,birth:r,city:n,user_id:i})},T=function(){return w.get("auth/me")},F=function(e,t){return w.post("auth/login",{email:e,password:t})},k=function(){return w.delete("auth/login")},V=function(e,t,r){return w.post("user",{email:e,password:t,isAdmin:r})},q=function(){return w.get("dashboard")},W="SET_USERS",Q={users:[{id:null,email:null,password:null,isAdmin:null}]};var Y=function(){return function(){var e=Object(g.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:r=e.sent,t({type:W,users:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(p.a)(Object(p.a)({},e),{},{users:t.users});default:return e}},Z=r(13),D=r(27),I=r(28),_=r(30),z=r(29),J=function(e){return{isAuth:e.auth.isAuth}},X=function(e){var t=function(t){Object(_.a)(n,t);var r=Object(z.a)(n);function n(){return Object(D.a)(this,n),r.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(p.a)({},this.props)):Object(j.jsx)(s.a,{to:"/login"})}}]),n}(i.a.Component);return Object(v.b)(J)(t)},M=function(e){return{is_admin:e.auth.is_admin}},L=function(e){var t=function(t){Object(_.a)(n,t);var r=Object(z.a)(n);function n(){return Object(D.a)(this,n),r.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return this.props.is_admin?Object(j.jsx)(e,Object(p.a)({},this.props)):Object(j.jsx)(s.a,{to:"/profile"})}}]),n}(i.a.Component);return Object(v.b)(M)(t)};var H={requestUsers:Y,updateUser:function(e,t,r,n){return function(){var i=Object(g.a)(U.a.mark((function i(c){return U.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,S(e,t,r,n);case 3:i.sent,c(Y());case 5:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},deleteUser:function(e){return function(){var t=Object(g.a)(U.a.mark((function t(r){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:t.sent,r(Y());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},$=Object(Z.c)(Object(v.b)((function(e){return{users:e.usersPage.users,isAdmin:e.auth.is_admin}}),H),X,L)((function(e){var t=e.requestUsers,r=e.deleteUser,i=e.updateUser,c=e.isAdmin,a=e.users;return Object(u.a)(e,["requestUsers","deleteUser","updateUser","isAdmin","users"]),Object(n.useEffect)((function(){t()}),[]),Object(j.jsx)(m,{deleteUser:r,isAdmin:c,updateUser:i,users:a})})),ee=r(19),te=r.n(ee);r(77);var re=function(e){return Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsx)("div",{className:te.a.text,children:e.profile.fullname}),Object(j.jsx)("div",{className:te.a.text,children:e.profile.sex}),Object(j.jsx)("div",{className:te.a.text,children:e.profile.birth}),Object(j.jsx)("div",{className:te.a.text,children:e.profile.city}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{id:"editBtn",onClick:function(){e.setEdit(e.profile.id)},children:"Edit"}),Object(j.jsx)("button",{onClick:function(){e.deleteProfile(e.profile.id,e.profile.user_id)},children:"Delete"})]})]})};var ne=function(e){var t=function(){e.setEdit(!1)};return Object(j.jsx)("div",{className:h.a.modal,children:Object(j.jsx)("div",{className:h.a.modalContent,children:Object(j.jsx)(x.b,{onSubmit:function(t){e.updateProfile(t.fullname,t.sex,t.birth,t.city,e.profile.id,e.profile.user_id),e.setEdit(!1)},initialValues:{sex:"".concat(e.profile.sex),fullname:"".concat(e.profile.fullname),birth:"".concat(e.profile.birth),city:"".concat(e.profile.city)},validate:function(e){var t={};return e.fullname||(t.fullname="Required"),e.sex||(t.sex="Required"),e.birth||(t.birth="Required"),e.city||(t.city="Required"),t},render:function(e){var r=e.handleSubmit;return Object(j.jsxs)("form",{onSubmit:r,children:[Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{id:"edtFullname",name:"fullname",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Full name"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Sex"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:[Object(j.jsx)(x.a,{name:"sex",component:"input",type:"radio",value:"Male"})," ","Male"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)(x.a,{name:"sex",component:"input",type:"radio",value:"Female"})," ","Female"]})]})]}),Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"birth",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Birth"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Birth"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"city",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"City"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"City"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsx)("button",{id:"edtSbmBtn",type:"submit",children:"Submit"}),Object(j.jsx)("button",{id:"edtDltBtn",onClick:t,children:"Exit"})]})}})})})};var ie=function(e){var t=function(){e.setCreate(!1)};return Object(j.jsx)("div",{className:h.a.modal,children:Object(j.jsx)("div",{className:h.a.modalContent,children:Object(j.jsx)(x.b,{onSubmit:function(t){e.createProfile(t.fullname,t.sex,t.birth,t.city,e.userId),e.setCreate(!1)},validate:function(e){var t={};return e.fullname||(t.fullname="Required"),e.sex||(t.sex="Required"),e.birth||(t.birth="Required"),e.city||(t.city="Required"),t},render:function(e){var r=e.handleSubmit;return Object(j.jsxs)("form",{onSubmit:r,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Full Name"}),Object(j.jsx)(x.a,{name:"fullname",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Full name"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Sex"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:[Object(j.jsx)(x.a,{name:"sex",component:"input",type:"radio",value:"Male"})," ","Male"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)(x.a,{name:"sex",component:"input",type:"radio",value:"Female"})," ","Female"]})]})]}),Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"birth",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Birth"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Birth"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"city",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"City"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"City"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsx)("button",{type:"submit",children:"Submit"}),Object(j.jsx)("button",{onClick:t,children:"Exit"})]})}})})})};var ce=function(e){var t=e.profiles,r=Object(u.a)(e,["profiles"]),i=Object(n.useState)(!1),c=Object(l.a)(i,2),a=c[0],s=c[1],o=Object(n.useState)(!1),d=Object(l.a)(o,2),b=d[0],p=d[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Profiles"}),Object(j.jsxs)("div",{className:te.a.profiles,children:[t.map((function(e){return Object(j.jsx)(re,{deleteProfile:r.deleteProfile,profile:e,setEdit:s},e.id)})),Object(j.jsxs)("div",{className:te.a.profile,children:[Object(j.jsx)("div",{className:te.a.text,children:"Create profile"}),Object(j.jsx)("button",{onClick:function(){p(!0)},children:"Create profile"})]})]}),Object(j.jsxs)("div",{children:[a?Object(j.jsx)(ne,{updateProfile:r.updateProfile,profile:t.find((function(e){return e.id===a})),setEdit:s}):null,b?Object(j.jsx)(ie,{createProfile:r.createProfile,setCreate:p,userId:r.userId}):null]})]})},ae="SET_PROFILES",se={profiles:[{id:null,fullname:null,sex:null,birth:null,city:null,user_id:null}]};function ue(e){return{type:ae,profiles:e}}var le=function(e){return function(){var t=Object(g.a)(U.a.mark((function t(r){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:n=t.sent,r(ue(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},oe=function(){return function(){var e=Object(g.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:r=e.sent,t(ue(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(p.a)(Object(p.a)({},e),{},{profiles:t.profiles});default:return e}};var je={requestProfiles:le,updateProfile:function(e,t,r,n,i,c){return function(){var a=Object(g.a)(U.a.mark((function a(s){return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E(e,t,r,n,i,c);case 2:a.sent,s(le(c));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},deleteProfile:function(e,t){return function(){var r=Object(g.a)(U.a.mark((function r(n){return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P(e);case 2:r.sent,n(le(t));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},createProfile:function(e,t,r,n,i){return function(){var c=Object(g.a)(U.a.mark((function c(a){return U.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,B(e,t,r,n,i);case 2:c.sent,a(le(i));case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}},be=Object(Z.c)(Object(v.b)((function(e){return{profiles:e.profilesPage.profiles,authUserId:e.auth.id}}),je),X,s.f)((function(e){var t=e.requestProfiles,r=Object(u.a)(e,["requestProfiles"]);return Object(n.useEffect)((function(){var e=r.match.params.userId;e||(e=r.authUserId),t(e)}),[]),Object(j.jsx)(ce,{deleteProfile:r.deleteProfile,createProfile:r.createProfile,userId:r.authUserId,profiles:r.profiles,updateProfile:r.updateProfile})})),pe=r(10),fe=r(17),he=r.n(fe);var xe=function(e){return Object(j.jsx)("header",{children:Object(j.jsxs)("div",{className:he.a.wrapper,children:[e.isAuth?Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:he.a.user,src:"data:image/jpeg;base64,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",alt:"user"}),Object(j.jsx)("span",{className:he.a.login,children:e.email}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:he.a.item,onClick:e.logout,children:"Logout"})})]}):Object(j.jsx)("div",{className:he.a.item,children:Object(j.jsx)(pe.b,{to:"/login",children:"Login"})}),Object(j.jsx)("div",{className:he.a.item,children:Object(j.jsx)(pe.b,{to:"/profile",children:"Profile"})}),e.is_admin?Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:he.a.item,children:Object(j.jsx)(pe.b,{to:"/users",children:"Users"})}),Object(j.jsx)("div",{className:he.a.item,children:Object(j.jsx)(pe.b,{to:"/dashboard",children:"Dashboard"})}),Object(j.jsx)("div",{className:he.a.item,children:Object(j.jsx)(pe.b,{to:"/profiles",children:"All Profiles"})})]}):null]})})},Oe="SET_USER_DATA",me={id:null,email:null,password:null,isAuth:!1,is_admin:!1};function ve(e,t,r,n,i){return{type:Oe,data:{id:e,email:t,password:r,isAuth:n,is_admin:i}}}var Ae=function(){return function(){var e=Object(g.a)(U.a.mark((function e(t){var r,n,i,c,a,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:0===(r=e.sent).data.resultCode&&(n=r.data.data,i=n.id,c=n.login,a=n.email,s=n.is_admin,t(ve(i,a,c,!0,s)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ue=function(e,t){return function(){var r=Object(g.a)(U.a.mark((function r(n){return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F(e,t);case 2:0===r.sent.data.resultCode&&n(Ae());case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(p.a)(Object(p.a)({},e),t.data);default:return e}};var Ke=Object(v.b)((function(e){return{isAuth:e.auth.isAuth,is_admin:e.auth.is_admin,email:e.auth.email}}),{setAuthUserData:ve,getAuthUserData:Ae,logout:function(){return function(){var e=Object(g.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:0===e.sent.data.resultCode&&t(ve(null,null,null,!1,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getAuthUserData,r=Object(u.a)(e,["getAuthUserData"]);return Object(n.useEffect)((function(){t()}),[]),Object(j.jsx)(xe,Object(p.a)({},r))})),we=r(20),ye=r.n(we);var Se=Object(v.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:Ue})((function(e){return e.isAuth?Object(j.jsx)(s.a,{to:"/profile"}):Object(j.jsx)("div",{className:ye.a.wrapper,children:Object(j.jsxs)("div",{className:ye.a.content,children:[Object(j.jsx)(x.b,{onSubmit:function(t){e.login(t.email,t.password)},validate:function(e){var t={};return e.email||(t.email="Required"),e.password||(t.password="Required"),t},render:function(e){var t=e.handleSubmit;return Object(j.jsxs)("form",{onSubmit:t,children:[Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"email",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Email"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Email"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"password",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Password"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsx)("button",{id:"submitBtn",className:ye.a.button,type:"submit",children:"Login"})]})}}),Object(j.jsx)("div",{children:Object(j.jsx)(pe.b,{to:"/signup",children:"Sign Up"})})]})})})),Ne="INITIALIZED_SUCCESS",Re={initialized:!1};var Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(p.a)(Object(p.a)({},e),{},{initialized:!0});default:return e}},Ee=r.p+"static/media/cupertino_activity_indicator.f986ff88.gif",Pe=function(e){return Object(j.jsx)("div",{style:{backgroundColor:"white"},children:Object(j.jsx)("img",{src:Ee,alt:"preloader gif"})})};var Be=Object(v.b)((function(e){return{isAuth:e.auth.isAuth}}),{signUp:function(e,t,r){return function(){var n=Object(g.a)(U.a.mark((function n(i){var c;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V(e,t,r);case 2:(c=n.sent).data.email&&c.data.password&&i(Ue(c.data.email,c.data.password));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(j.jsx)(s.a,{to:"/profile"}):Object(j.jsx)("div",{className:ye.a.wrapper,children:Object(j.jsxs)("div",{className:ye.a.content,children:[Object(j.jsx)(x.b,{onSubmit:function(t){e.signUp(t.email,t.password,t.isAdmin)},initialValues:{isAdmin:"false"},validate:function(e){var t={};return e.email||(t.email="Required"),e.password||(t.password="Required"),e.isAdmin||(t.isAdmin="Required"),t},render:function(e){var t=e.handleSubmit;return Object(j.jsxs)("form",{onSubmit:t,children:[Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"email",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Email"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Email"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{name:"password",children:function(e){var t=e.input,r=e.meta;return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{type:"text",placeholder:"Password"})),r.error&&r.touched&&Object(j.jsx)("span",{children:r.error})]})}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Is Admin"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:[Object(j.jsx)(x.a,{name:"isAdmin",component:"input",type:"radio",value:"true"})," ","True"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)(x.a,{name:"isAdmin",component:"input",type:"radio",value:"false"})," ","False"]})]})]}),Object(j.jsx)("button",{className:ye.a.button,type:"submit",children:"Sign Up"})]})}}),Object(j.jsx)("div",{children:Object(j.jsx)(pe.b,{to:"/login",children:"Login"})})]})})}));var Te={requestAllProfiles:oe,deleteAllProfile:function(e){return function(){var t=Object(g.a)(U.a.mark((function t(r){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e);case 2:t.sent,r(oe());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},createAllProfile:function(e,t,r,n,i){return function(){var c=Object(g.a)(U.a.mark((function c(a){return U.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,B(e,t,r,n,i);case 2:c.sent,a(oe());case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},updateAllProfile:function(e,t,r,n,i,c){return function(){var a=Object(g.a)(U.a.mark((function a(s){return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E(e,t,r,n,i,c);case 2:a.sent,s(oe());case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},Fe=Object(Z.c)(Object(v.b)((function(e){return{profiles:e.profilesPage.profiles,authUserId:e.auth.id}}),Te),X,L)((function(e){var t=e.requestAllProfiles,r=Object(u.a)(e,["requestAllProfiles"]);return Object(n.useEffect)((function(){t()}),[]),Object(j.jsx)(ce,{deleteProfile:r.deleteAllProfile,createProfile:r.createAllProfile,userId:r.authUserId,profiles:r.profiles,updateProfile:r.updateAllProfile})})),ke="SET_DASHBOARD_DATA",Ve={users:null,profiles:null,adultProfiles:null};function qe(e,t,r){return{type:ke,data:{users:e,profiles:t,adultProfiles:r}}}var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(p.a)(Object(p.a)({},e),t.data);default:return e}},Qe=r(21),Ye=r.n(Qe);var Ge=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Dashboard"}),Object(j.jsxs)("div",{className:Ye.a.dashboards,children:[Object(j.jsx)("div",{className:Ye.a.dashboard,children:Object(j.jsx)("div",{className:Ye.a.text,children:Object(j.jsxs)("label",{children:["Users:",e.users]})})}),Object(j.jsx)("div",{className:Ye.a.dashboard,children:Object(j.jsx)("div",{className:Ye.a.text,children:Object(j.jsxs)("label",{children:["Profiles:",e.profiles]})})}),Object(j.jsx)("div",{className:Ye.a.dashboard,children:Object(j.jsx)("div",{className:Ye.a.text,children:Object(j.jsxs)("label",{children:["Profiles over 18 years old:",e.adultProfiles]})})})]})]})};var Ze=Object(v.b)((function(e){return{users:e.dashboard.users,profiles:e.dashboard.profiles,adultProfiles:e.dashboard.adultProfiles}}),{getDashboardData:function(){return function(){var e=Object(g.a)(U.a.mark((function e(t){var r,n,i,c,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:r=e.sent,n=r.data,i=n.users,c=n.profiles,a=n.adultProfiles,t(qe(i,c,a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getDashboardData,r=Object(u.a)(e,["getDashboardData"]);return Object(n.useEffect)((function(){t()}),[]),Object(j.jsx)(Ge,Object(p.a)({},r))}));var De=Object(Z.c)(s.f,Object(v.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Ae());Promise.all([t]).then((function(){e({type:Ne})}))}}}))((function(e){var t=e.initializeApp,r=e.initialized;return Object(n.useEffect)((function(){t()}),[t]),r?Object(j.jsxs)("div",{children:[Object(j.jsx)(Ke,{}),Object(j.jsxs)("div",{children:[Object(j.jsx)(s.b,{path:"/profile/:userId?",render:function(){return Object(j.jsx)(be,{})}}),Object(j.jsx)(s.b,{path:"/profiles",render:function(){return Object(j.jsx)(Fe,{})}}),Object(j.jsx)(s.b,{path:"/users",render:function(){return Object(j.jsx)($,{})}}),Object(j.jsx)(s.b,{path:"/dashboard",render:function(){return Object(j.jsx)(Ze,{})}}),Object(j.jsx)(s.b,{path:"/login",render:function(){return Object(j.jsx)(Se,{})}}),Object(j.jsx)(s.b,{path:"/signup",render:function(){return Object(j.jsx)(Be,{})}})]})]}):Object(j.jsx)(Pe,{})})),Ie=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,79)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),n(e),i(e),c(e),a(e)}))},_e=r(45),ze=Object(Z.b)({usersPage:G,profilesPage:de,auth:ge,app:Ce,dashboard:We}),Je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.c,Xe=Object(Z.d)(ze,Je(Object(Z.a)(_e.a)));a.a.render(Object(j.jsx)(pe.a,{children:Object(j.jsx)(v.a,{store:Xe,children:Object(j.jsx)(De,{})})}),document.getElementById("root")),Ie()}},[[78,1,2]]]);
//# sourceMappingURL=main.afca490b.chunk.js.map